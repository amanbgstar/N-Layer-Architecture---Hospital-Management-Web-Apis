{
  "openapi": "3.0.1",
  "info": {
    "title": "HospitalManagement",
    "version": "1.0"
  },
  "paths": {
    "/api/Patient/Register": {
      "post": {
        "tags": [
          "Patient"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientVM"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientVM"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/PatientVM"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Patient/LogIn": {
      "post": {
        "tags": [
          "Patient"
        ],
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "bg",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Patient": {
      "get": {
        "tags": [
          "Patient"
        ],
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Prescription/EncodeAcutePrescription": {
      "post": {
        "tags": [
          "Prescription"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcutePrescriptionRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AcutePrescriptionRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AcutePrescriptionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AcutePrescriptionRequest": {
        "required": [
          "dispensingPharmacy",
          "medications",
          "patient",
          "prescriber",
          "prescriberOrganization",
          "prescriptionDate",
          "prescriptionId",
          "prescriptionOrderNumber"
        ],
        "type": "object",
        "properties": {
          "prescriptionId": {
            "type": "string"
          },
          "prescriptionOrderNumber": {
            "type": "string"
          },
          "prescriptionDate": {
            "type": "string",
            "format": "date-time"
          },
          "patient": {
            "$ref": "#/components/schemas/PatientDetails"
          },
          "prescriber": {
            "$ref": "#/components/schemas/PractitionerDetails"
          },
          "prescriberOrganization": {
            "$ref": "#/components/schemas/OrganizationDetails"
          },
          "dispensingPharmacy": {
            "$ref": "#/components/schemas/PharmacyDetails"
          },
          "medications": {
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MedicationItem"
            }
          }
        },
        "additionalProperties": false
      },
      "Address": {
        "type": "object",
        "properties": {
          "line": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "city": {
            "type": "string",
            "nullable": true
          },
          "district": {
            "type": "string",
            "nullable": true
          },
          "postalCode": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LabTest": {
        "type": "object",
        "properties": {
          "testId": {
            "type": "integer",
            "format": "int32"
          },
          "testName": {
            "type": "string",
            "nullable": true
          },
          "takenDate": {
            "type": "string",
            "format": "date-time"
          },
          "reportGenerationTime": {
            "type": "string",
            "format": "date-time"
          },
          "technicianName": {
            "type": "string",
            "nullable": true
          },
          "userName": {
            "type": "string",
            "nullable": true
          },
          "patientId": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "MedicationItem": {
        "type": "object",
        "properties": {
          "snomedCode": {
            "type": "string",
            "nullable": true
          },
          "display": {
            "type": "string",
            "nullable": true
          },
          "quantityValue": {
            "type": "number",
            "format": "double"
          },
          "quantityUnit": {
            "type": "string",
            "nullable": true
          },
          "quantityCode": {
            "type": "string",
            "nullable": true
          },
          "expectedSupplyDuration": {
            "type": "integer",
            "format": "int32"
          },
          "dosageText": {
            "type": "string",
            "nullable": true
          },
          "frequency": {
            "type": "integer",
            "format": "int32"
          },
          "period": {
            "type": "integer",
            "format": "int32"
          },
          "periodUnit": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "OrganizationDetails": {
        "type": "object",
        "properties": {
          "odsCode": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "parentOdsCode": {
            "type": "string",
            "nullable": true
          },
          "parentName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PatientDetails": {
        "required": [
          "address",
          "birthDate",
          "familyName",
          "gender",
          "givenNames",
          "nhsNumber"
        ],
        "type": "object",
        "properties": {
          "nhsNumber": {
            "type": "string"
          },
          "familyName": {
            "type": "string"
          },
          "givenNames": {
            "minItems": 1,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "prefix": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string"
          },
          "birthDate": {
            "type": "string",
            "format": "date-time"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          }
        },
        "additionalProperties": false
      },
      "PatientVM": {
        "type": "object",
        "properties": {
          "patientId": {
            "type": "integer",
            "format": "int32"
          },
          "patientFirstName": {
            "type": "string",
            "nullable": true
          },
          "patientLastName": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time"
          },
          "userName": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "bloodGroup": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "city": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "pinCode": {
            "type": "integer",
            "format": "int32"
          },
          "labTests": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LabTest"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PharmacyDetails": {
        "type": "object",
        "properties": {
          "odsCode": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "endpoint": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PractitionerDetails": {
        "type": "object",
        "properties": {
          "sdsUserId": {
            "type": "string",
            "nullable": true
          },
          "sdsRoleProfileId": {
            "type": "string",
            "nullable": true
          },
          "gmcNumber": {
            "type": "string",
            "nullable": true
          },
          "dinNumber": {
            "type": "string",
            "nullable": true
          },
          "familyName": {
            "type": "string",
            "nullable": true
          },
          "givenName": {
            "type": "string",
            "nullable": true
          },
          "prefix": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}